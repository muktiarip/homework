(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},o=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/guru/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([1,"chunk-vendors"]),r()})({0:function(t,e){},"034f":function(t,e,r){"use strict";var n=r("8a23"),a=r.n(n);a.a},"0cab":function(t,e,r){},1:function(t,e,r){t.exports=r("56d7")},2:function(t,e){},3:function(t,e){},4:function(t,e){},"45db":function(t,e,r){"use strict";var n=r("0cab"),a=r.n(n);a.a},5:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("b0c0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[t.authenticated?r("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"","extension-height":"4"}},[t.$store.state.toolbar.backButton?r("v-btn",{staticStyle:{"margin-left":"-12px"},attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$router.go(-1)}}},[r("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),r("v-toolbar-title",[r("span",{staticClass:"title"},[t._v(t._s(t.title))])]),r("v-spacer"),r("v-btn",{attrs:{icon:"",to:"/logout"}},[r("v-icon",[t._v("mdi-exit-run")])],1),r("v-progress-linear",{staticClass:"ma-0",attrs:{slot:"extension",active:t.loading,color:"red",indeterminate:""},slot:"extension"})],1):t._e(),r("v-content",[r("router-view")],1)],1)},o=[],i={name:"App",data:function(){return{}},computed:{authenticated:function(){return this.$store.state.authenticated},title:function(){return this.$store.state.toolbar.title},loading:function(){return this.$store.state.loading}}},s=i,c=(r("034f"),r("45db"),r("2877")),u=r("6544"),l=r.n(u),d=r("7496"),p=r("40dc"),m=r("8336"),h=r("a75b"),f=r("132d"),v=r("8e36"),g=r("2fa4"),b=r("2a7f"),x=Object(c["a"])(s,a,o,!1,null,"0580407d",null),k=x.exports;l()(x,{VApp:d["a"],VAppBar:p["a"],VBtn:m["a"],VContent:h["a"],VIcon:f["a"],VProgressLinear:v["a"],VSpacer:g["a"],VToolbarTitle:b["a"]});var w=r("f309");n["a"].use(w["a"]);var y=new w["a"]({}),_=(r("45fc"),r("8c4f")),C=r("2f62");n["a"].use(C["a"]);var T={userid:"",username:"",authenticated:!1,toolbar:{title:"PeEeerr!",backButton:!1},snackbar:{visible:!1,text:null,timeout:6e3,multiline:!1},loading:!1},E={SET_CREDENTIALS:function(t,e){e.userid&&(t.userid=e.userid),e.username&&(t.username=e.username)},SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_TOOLBAR:function(t,e){t.toolbar.title=e.title,Object.prototype.hasOwnProperty.call(e,"backButton")?t.toolbar.backButton=e.backButton:t.toolbar.backButton=!1},SHOW_SNACKBAR:function(t,e){t.snackbar.text=e.text,t.snackbar.multiline=e.text.length>50,e.multiline&&(t.snackbar.multiline=e.multiline),e.timeout?t.snackbar.timeout=e.timeout:t.snackbar.timeout=6e3,t.snackbar.visible=!0},CLOSE_SNACKBAR:function(t){t.snackbar.visible=!1,t.snackbar.multiline=!1,t.snackbar.timeout=6e3,t.snackbar.text=null},SET_LOADING:function(t,e){t.loading=e}},O={},S=new C["a"].Store({state:T,mutations:E,actions:O}),$="hwtch";function R(){var t={},e="".concat($,":name"),r=localStorage.getItem(e);if(null!==r){e="".concat($,":userid");var n=localStorage.getItem(e);if(null!==n){e="".concat($,":exp");var a=localStorage.getItem(e);if(null!==a){var o=parseInt(a),i=Math.round(Date.now()/1e3);return o<i?(localStorage.removeItem("".concat($,":userid")),void localStorage.removeItem("".concat($,":exp"))):(t.name=r,t.userid=n,t.exp=o,t)}localStorage.removeItem("".concat($,":userid"))}}}function j(t,e,r){var n="".concat($,":name");localStorage.setItem(n,t),n="".concat($,":userid"),localStorage.setItem(n,e),n="".concat($,":exp"),localStorage.setItem(n,"".concat(r))}function A(){var t="".concat($,":name");localStorage.removeItem(t),t="".concat($,":userid"),localStorage.removeItem(t),t="".concat($,":exp"),localStorage.removeItem(t)}var D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"pa-0 pa-md-3",attrs:{fluid:""}},[t.assignments.length>0?r("v-list",{staticClass:"ly-list"},[t._l(t.assignments,(function(e,n){return[r("v-list-item",{key:e[1]},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",md:"10"},on:{click:function(e){return e.stopPropagation(),t.displayAssignment(n)}}},[t._v(" "+t._s(e[3])+" ")]),r("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"2",offset:"6","offset-md":"0"}},[r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onDelClick(n)}}},[r("v-icon",[t._v("mdi-delete-forever")])],1),r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onEditClick(n)}}},[r("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1),n!==t.assignments.length-1?r("v-divider",{key:n}):t._e()]}))],2):t._e(),0==t.assignments.length&&t.pageReady?r("v-row",{staticClass:"mx-0 centered-row"},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",[r("v-card-title",[t._v(" Belum ada data! ")]),r("v-card-text",[t._v(" Tambahkan data tugas belajar dengan meng-klik tombol yang ada di sudut kanan-bawah layar! ")])],1)],1)],1):t._e(),r("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",dark:"",color:"pink"},on:{click:function(e){return e.stopPropagation(),t.onFabAddClick(e)}}},[r("v-icon",[t._v("mdi-plus")])],1)],1)},V=[],L=(r("99af"),r("4160"),r("a434"),r("ac1f"),r("5319"),r("1276"),r("159b"),r("96cf"),r("1da1")),B=(r("d3b7"),r("25f0"),r("b5e8")),I=r.n(B),N="us-east-1",P="tugas-belajar",q="https://play.min.io",K="Q3AM3UQ867SPQQA43P2F",U="zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG",M="https://raw.githubusercontent.com/muktiarip/transient/master",G=(r("a15b"),r("d81d"),r("b64b"),r("498a"),r("b85c"),r("1c46")),F=r.n(G);r("b383"),r("df7c");function J(){return new I.a({endpoint:q,accessKeyId:K,secretAccessKey:U,region:N,s3ForcePathStyle:!0,signatureVersion:"v4"})}function H(t){return Q.apply(this,arguments)}function Q(){return Q=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"string",n=J(),t.prev=2,t.next=5,n.getObject({Bucket:P,Key:e}).promise();case 5:return a=t.sent,o=null,o="string"===r?a.Body.toString():"json"===r?JSON.parse(a.Body.toString()):a.Body.buffer,t.abrupt("return",{code:200,data:o});case 11:return t.prev=11,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),Q.apply(this,arguments)}function Y(t){return W.apply(this,arguments)}function W(){return W=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),t.prev=1,t.next=4,r.headObject({Bucket:P,Key:e}).promise();case 4:return t.sent,t.abrupt("return",{code:200});case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),W.apply(this,arguments)}function z(t,e,r){return X.apply(this,arguments)}function X(){return X=Object(L["a"])(regeneratorRuntime.mark((function t(e,r,n){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=J(),o={Bucket:P,Key:e,Body:r,ContentType:n},t.prev=2,t.next=5,a.putObject(o).promise();case 5:return i=t.sent,t.abrupt("return",{code:i["$response"].httpResponse.statusCode});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),X.apply(this,arguments)}function Z(t){return tt.apply(this,arguments)}function tt(){return tt=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),n={Bucket:P,Key:e},t.prev=2,t.next=5,r.deleteObject(n).promise();case 5:return a=t.sent,t.abrupt("return",{code:a["$response"].httpResponse.statusCode});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),tt.apply(this,arguments)}function et(t){return rt.apply(this,arguments)}function rt(){return rt=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),n={Bucket:P,Prefix:e},t.prev=2,t.next=5,r.listObjectsV2(n).promise();case 5:return a=t.sent,t.abrupt("return",{code:a["$response"].httpResponse.statusCode,data:a});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),rt.apply(this,arguments)}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7200,r={Bucket:P,Key:t,Expires:e},n=J();return n.getSignedUrl("getObject",r)}var at={name:"Tasks",data:function(){return{assignments:[],pageReady:!1}},created:function(){this.$store.commit("SET_TOOLBAR",{title:"Tugas Belajar"}),this.loadData()},methods:{onFabAddClick:function(){this.$router.push({name:"taskform",query:{mode:"add"}})},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="m/".concat(this.$store.state.userid,"/"),this.$store.commit("SET_LOADING",!0),t.next=4,et(e);case 4:if(r=t.sent,200===r.code){t.next=10;break}return console.error(r.message),this.pageReady=!0,this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 10:r.data.Contents.reverse(),this.assignments=[],n=this,r.data.Contents.forEach((function(t){var r=t.Key.replace(e,"").split(".");n.assignments.push([parseInt(r[0]),r[1],r[2],atob(r[2])])})),this.pageReady=!0,this.$store.commit("SET_LOADING",!1);case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),displayAssignment:function(t){this.$router.push({name:"task",params:{id:this.assignments[t][1]}})},onEditClick:function(t){this.$router.push({name:"taskform",query:{mode:"edit",id:this.assignments[t][1],meta:this.assignments[t][2]}})},onDelClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=window.confirm("Yakin menghapus "+this.assignments[e][3]+"?"),r){t.next=3;break}return t.abrupt("return");case 3:return n=this.assignments[e],a="a/".concat(n[1],".json"),o="m/".concat(this.$store.state.userid,"/").concat(n[0],".").concat(n[1],".").concat(n[2],".txt"),i="d/".concat(n[1],".txt"),this.$store.commit("SET_LOADING",!0),t.next=10,Z(a);case 10:if(s=t.sent,!(s.code>=300)){t.next=15;break}return console.error(s.message),this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 15:return t.next=17,Z(o);case 17:if(s=t.sent,this.$store.commit("SET_LOADING",!1),!(s.code>=300)){t.next=22;break}return console.error(s.message),t.abrupt("return");case 22:return this.assignments.splice(e,1),t.next=25,z(i,"1","text/plain");case 25:s=t.sent;case 26:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},ot=at,it=(r("8f23"),r("b0af")),st=r("99d9"),ct=r("62ad"),ut=r("a523"),lt=r("ce7e"),dt=r("8860"),pt=r("da13"),mt=r("0fd9"),ht=Object(c["a"])(ot,D,V,!1,null,"3cd2ccb4",null),ft=ht.exports;l()(ht,{VBtn:m["a"],VCard:it["a"],VCardText:st["b"],VCardTitle:st["c"],VCol:ct["a"],VContainer:ut["a"],VDivider:lt["a"],VIcon:f["a"],VList:dt["a"],VListItem:pt["a"],VRow:mt["a"]});var vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[t._v(" "+t._s(t.name)+" ")]),r("v-col",{attrs:{cols:"12"}},[r("h3",{staticClass:"mb-2"},[t._v("Deskripsi")]),r("p",[t._v(t._s(t.description))])]),r("v-col",{attrs:{cols:"12"}},[r("h3",[t._v("Upload Link")]),r("div",{ref:"shareLink",staticClass:"text-center"},[t._v(t._s(t.shareLink))])]),r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-btn",{attrs:{color:"primary"},on:{click:t.btnCopyClick}},[t._v("Copy Link")])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[r("h3",[t._v("Daftar File")])]),t._l(t.fileList,(function(e,n){return[r("v-col",{key:e,attrs:{cols:"12",md:"10"}},[t._v(" "+t._s(n+1)+". "+t._s(e)+" ")]),r("v-col",{key:"_"+e,staticClass:"text-right mb-1",attrs:{cols:"12",md:"2"}},[r("v-btn",{attrs:{icon:"",loading:t.loading},on:{click:function(e){return t.btnDelClick(n)}}},[r("v-icon",[t._v("mdi-delete-forever")])],1),r("v-btn",{attrs:{icon:"",href:t.signedUrl(e),target:"_blank"}},[r("v-icon",[t._v("mdi-eye")])],1)],1)]}))],2)],1)},gt=[],bt=(r("a4d3"),r("e01a"),{name:"Task",data:function(){return{name:"",description:"",fileList:[],loading:!1}},computed:{shareLink:function(){var t=window.location;return"".concat(t.protocol,"//").concat(t.host,"/murid/#/?a=").concat(this.$route.params.id)}},created:function(){this.$store.commit("SET_TOOLBAR",{title:"Tugas Belajar",backButton:!0}),this.loadData()},methods:{signedUrl:function(t){var e="a/".concat(this.$route.params.id,"/").concat(t);return nt(e)},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.$route.params.id,".json"),this.$store.commit("SET_LOADING",!0),t.next=4,H(e,"json");case 4:if(r=t.sent,200===r.code){t.next=9;break}return console.error(r.message),this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 9:return this.name=r.data.name,this.description=r.data.description,n="a/".concat(this.$route.params.id,"/"),t.next=14,et(n);case 14:if(r=t.sent,this.$store.commit("SET_LOADING",!1),200==r.code){t.next=19;break}return console.error(r.message),t.abrupt("return");case 19:this.fileList=[],a=this,r.data.Contents.forEach((function(t){a.fileList.push(t.Key.replace("a/".concat(o.$route.params.id,"/"),""))}));case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnDelClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Hapus file ".concat(this.fileList[e],"?")),r){t.next=3;break}return t.abrupt("return");case 3:return n="a/".concat(this.$route.params.id,"/").concat(this.fileList[e]),this.loading=!0,t.next=7,Z(n);case 7:if(a=t.sent,this.loading=!1,!(a.code>300)){t.next=12;break}return console.error(a.message),t.abrupt("return");case 12:this.fileList.splice(e,1);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),btnCopyClick:function(){var t=null;if(document.selection)t=document.body.createTextRange(),t.moveToElementText(this.$refs.shareLink),t.select().createTextRange(),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.");else if(window.getSelection){t=document.createRange(),t.selectNode(this.$refs.shareLink);var e=window.getSelection();e.removeAllRanges(),e.addRange(t),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.")}}}}),xt=bt,kt=Object(c["a"])(xt,vt,gt,!1,null,null,null),wt=kt.exports;l()(kt,{VBtn:m["a"],VCol:ct["a"],VContainer:ut["a"],VIcon:f["a"],VRow:mt["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Nama tugas"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Deskripsi",solo:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-btn",{staticClass:"mx-2",attrs:{color:"primary",disabled:t.loading},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Batal ")]),r("v-btn",{staticClass:"mx-2",attrs:{color:"primary",loading:t.loading},on:{click:t.btnSaveClick}},[t._v(" Save ")])],1)],1)],1)},_t=[],Ct=(r("caad"),r("fb6a"),r("a9e3"),r("f00c"),"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("")),Tt="0123456789".split(""),Et="CDEHKMPRTUWXY012458".split(""),Ot=function(t,e){var r=e.length,n=Math.floor(65536/r)*r-1,a=2*Math.ceil(1.1*t),o="",i=0;while(i<t){var s=F.a.randomBytes(a),c=0;while(c<a&&i<t){var u=s.readUInt16LE(c);c+=2,u>n||(o+=e[u%r],i++)}}return o},St=[void 0,"hex","base64","url-safe","numeric","distinguishable"],$t=function(t){var e=t.length,r=t.type,n=t.characters;if(!(e>=0&&Number.isFinite(e)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(void 0!==r&&void 0!==n)throw new TypeError("Expected either `type` or `characters`");if(void 0!==n&&"string"!==typeof n)throw new TypeError("Expected `characters` to be string");if(!St.includes(r))throw new TypeError("Unknown type: ".concat(r));if(void 0===r&&void 0===n&&(r="hex"),"hex"===r||void 0===r&&void 0===n)return F.a.randomBytes(Math.ceil(.5*e)).toString("hex").slice(0,e);if("base64"===r)return F.a.randomBytes(Math.ceil(.75*e)).toString("base64").slice(0,e);if("url-safe"===r)return Ot(e,Ct);if("numeric"===r)return Ot(e,Tt);if("distinguishable"===r)return Ot(e,Et);if(0===n.length)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(n.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return Ot(e,n.split(""))},Rt={name:"TasksForm",data:function(t){return{mode:t.$route.query.mode,id:void 0===t.$route.query.id?"":t.$route.query.id,name:"",description:"",metaId:void 0===t.$route.query.meta?"":t.$route.query.meta,oldData:null,loading:!1}},computed:{title:function(){return"add"===this.mode?"Tugas Baru":"Edit Tugas"}},created:function(){"edit"===this.mode&&this.loadData()},methods:{getB64Name:function(t){return t.length>60?btoa(t.substring(0,60)):btoa(t)},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.id,".json"),t.next=3,H(e,"json");case 3:if(r=t.sent,200===r.code){t.next=7;break}return console.error(r.message),t.abrupt("return");case 7:this.oldData=r.data,this.name=r.data.name,this.description=r.data.description;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnCancelClick:function(){this.$router.go(-1)},saveJsonData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={name:this.name,description:this.description,teacher_name:this.$store.state.username,created:r},t.next=3,z(e,JSON.stringify(n),"application/json");case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),saveNew:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,o,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=!1,r="",n="",this.loading=!0;case 4:if(e){t.next=13;break}return n=$t({length:16,type:"url-safe"}),r="a/".concat(n,".json"),t.next=9,Y(r);case 9:a=t.sent,200!==a.code&&(e=!0),t.next=4;break;case 13:return o=Math.round(Date.now()/1e3),t.next=16,this.saveJsonData(r,o);case 16:if(i=t.sent,200===i.code){t.next=21;break}return console.error(i.message),this.loading=!1,t.abrupt("return");case 21:return s=this.getB64Name(this.name),c="m/".concat(this.$store.state.userid,"/").concat(o,".").concat(n,".").concat(s,".txt"),t.next=25,z(c,"1","text/plain");case 25:i=t.sent,this.loading=!1,this.$router.go(-1);case 28:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveEdit:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.id,".json"),this.loading=!0,t.next=4,this.saveJsonData(e,this.oldData.created);case 4:if(r=t.sent,200===r.code){t.next=9;break}return console.error(r.message),this.loading=!1,t.abrupt("return");case 9:if(this.name!==this.oldData.name){t.next=14;break}this.loading=!1,this.$router.go(-1),t.next=25;break;case 14:return n="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(this.metaId,".txt"),t.next=17,Z(n);case 17:return r=t.sent,a=this.getB64Name(this.name),o="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(a,".txt"),t.next=22,z(o,"1","text/plain");case 22:r=t.sent,this.loading=!1,this.$router.go(-1);case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnSaveClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.name){t.next=2;break}return t.abrupt("return");case 2:if(""!==this.description){t.next=4;break}return t.abrupt("return");case 4:if("add"!==this.mode){t.next=9;break}return t.next=7,this.saveNew();case 7:t.next=11;break;case 9:return t.next=11,this.saveEdit();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},jt=Rt,At=r("8654"),Dt=r("a844"),Vt=Object(c["a"])(jt,yt,_t,!1,null,null,null),Lt=Vt.exports;l()(Vt,{VBtn:m["a"],VCol:ct["a"],VContainer:ut["a"],VRow:mt["a"],VTextField:At["a"],VTextarea:Dt["a"]});var Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{"justify-center":"",fluid:""}},[r("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.authenticated,expression:"!$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Login")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Nama",name:"name","prepend-icon":"mdi-account",type:"text",readonly:t.loading,error:t.loginError,clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{label:"Token",name:"userid","prepend-icon":"mdi-lock",type:"password",readonly:t.loading,error:t.loginError,clearable:""},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.inputOK},on:{click:t.btnLoginClick}},[t._v("Login")])],1)],1)],1)],1),r("v-row",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.authenticated,expression:"$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" Loading... ")])],1)],1)},It=[];function Nt(t){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={headers:{Accept:"application/json"}},t.prev=1,t.next=4,fetch(e,r);case 4:return n=t.sent,t.next=7,n.json();case 7:return n=t.sent,t.abrupt("return",n);case 11:return t.prev=11,t.t0=t["catch"](1),t.abrupt("return",{code:600,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])}))),Pt.apply(this,arguments)}var qt={name:"Login",data:function(){return{name:"",userid:"",loginError:!1,loading:!1}},computed:{inputOK:function(){try{return 0!==this.name.length&&0!==this.userid.length}catch(t){return!1}}},methods:{btnLoginClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loginError=!1,e="".concat(M,"/teachers/").concat(this.userid,".json"),this.loading=!0,t.next=5,Nt(e);case 5:if(r=t.sent,this.loading=!1,!(r.code>300)){t.next=10;break}return this.loginError=!0,t.abrupt("return");case 10:this.$store.commit("SET_CREDENTIALS",{userid:this.userid,username:this.name}),n=Math.round(Date.now()/1e3)+86400,j(this.name,this.userid,n),this.$store.commit("SET_AUTHENTICATED",!0),Object.prototype.hasOwnProperty.call(this.$route.query,"redirect")?this.$router.replace(this.$route.query.redirect):this.$router.replace("/");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Kt=qt,Ut=r("4bd4"),Mt=r("71d9"),Gt=Object(c["a"])(Kt,Bt,It,!1,null,null,null),Ft=Gt.exports;function Jt(t,e,r){A(),S.commit("SET_AUTHENTICATED",!1),r("/login")}l()(Gt,{VBtn:m["a"],VCard:it["a"],VCardActions:st["a"],VCardText:st["b"],VCol:ct["a"],VContainer:ut["a"],VForm:Ut["a"],VRow:mt["a"],VSpacer:g["a"],VTextField:At["a"],VToolbar:Mt["a"],VToolbarTitle:b["a"]}),n["a"].use(_["a"]);var Ht=[{path:"/",name:"tasks",component:ft,meta:{requiresAuth:!0}},{path:"/tasks/:id",name:"task",component:wt,meta:{requiresAuth:!0}},{path:"/taskform",name:"taskform",component:Lt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Ft},{path:"/logout",name:"logout",beforeEnter:Jt}],Qt=new _["a"]({routes:Ht});Qt.beforeEach((function(t,e,r){t.matched.some((function(t){return t.meta.requiresAuth}))?S.state.authenticated?r():r({path:"/login",query:{redirect:t.fullPath}}):"login"===t.name&&S.state.authenticated?r("/"):r()}));var Yt=Qt;n["a"].config.productionTip=!1;var Wt=R();void 0!==Wt&&(S.commit("SET_CREDENTIALS",{userid:Wt.userid,username:Wt.name}),S.commit("SET_AUTHENTICATED",!0)),new n["a"]({router:Yt,store:S,vuetify:y,render:function(t){return t(k)}}).$mount("#app")},8251:function(t,e,r){},"8a23":function(t,e,r){},"8f23":function(t,e,r){"use strict";var n=r("8251"),a=r.n(n);a.a}});
//# sourceMappingURL=app.0264f3cb.js.map