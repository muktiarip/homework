(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,m=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/guru/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([1,"chunk-vendors"]),r()})({0:function(t,e){},"034f":function(t,e,r){"use strict";var a=r("8a23"),n=r.n(a);n.a},1:function(t,e,r){t.exports=r("56d7")},2:function(t,e){},"28d5":function(t,e,r){},3:function(t,e){},"310e":function(t,e,r){"use strict";var a=r("28d5"),n=r.n(a);n.a},4:function(t,e){},"4b60":function(t,e,r){},5:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("b0c0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[t.authenticated?r("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"","extension-height":"4"}},[t.$store.state.toolbar.backButton?r("v-btn",{staticStyle:{"margin-left":"-12px"},attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$router.go(-1)}}},[r("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),r("v-toolbar-title",[r("span",{staticClass:"title"},[t._v(t._s(t.title))])]),r("v-spacer"),r("v-btn",{attrs:{icon:"",to:"/logout"}},[r("v-icon",[t._v("mdi-exit-run")])],1),r("v-progress-linear",{staticClass:"ma-0",attrs:{slot:"extension",active:t.loading,color:"red",indeterminate:""},slot:"extension"})],1):t._e(),r("v-content",[r("router-view")],1)],1)},i=[],o={name:"App",data:function(){return{}},computed:{authenticated:function(){return this.$store.state.authenticated},title:function(){return this.$store.state.toolbar.title},loading:function(){return this.$store.state.loading}},mounted:function(){var t=document.getElementById("logo-loading");t.parentNode.removeChild(t)}},s=o,c=(r("034f"),r("310e"),r("2877")),u=r("6544"),l=r.n(u),d=r("7496"),m=r("40dc"),p=r("8336"),h=r("a75b"),f=r("132d"),v=r("8e36"),g=r("2fa4"),b=r("2a7f"),x=Object(c["a"])(s,n,i,!1,null,"e394c108",null),k=x.exports;l()(x,{VApp:d["a"],VAppBar:m["a"],VBtn:p["a"],VContent:h["a"],VIcon:f["a"],VProgressLinear:v["a"],VSpacer:g["a"],VToolbarTitle:b["a"]});var y=r("f309");a["a"].use(y["a"]);var w=new y["a"]({}),_=(r("45fc"),r("8c4f")),C=r("2f62");a["a"].use(C["a"]);var T={userid:"",username:"",authenticated:!1,toolbar:{title:"PeEeerr!",backButton:!1},snackbar:{visible:!1,text:null,timeout:6e3,multiline:!1},loading:!1},E={SET_CREDENTIALS:function(t,e){e.userid&&(t.userid=e.userid),e.username&&(t.username=e.username)},SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_TOOLBAR:function(t,e){t.toolbar.title=e.title,Object.prototype.hasOwnProperty.call(e,"backButton")?t.toolbar.backButton=e.backButton:t.toolbar.backButton=!1},SHOW_SNACKBAR:function(t,e){t.snackbar.text=e.text,t.snackbar.multiline=e.text.length>50,e.multiline&&(t.snackbar.multiline=e.multiline),e.timeout?t.snackbar.timeout=e.timeout:t.snackbar.timeout=6e3,t.snackbar.visible=!0},CLOSE_SNACKBAR:function(t){t.snackbar.visible=!1,t.snackbar.multiline=!1,t.snackbar.timeout=6e3,t.snackbar.text=null},SET_LOADING:function(t,e){t.loading=e}},O={},S=new C["a"].Store({state:T,mutations:E,actions:O}),R="hwtch";function j(){var t={},e="".concat(R,":name"),r=localStorage.getItem(e);if(null!==r){e="".concat(R,":userid");var a=localStorage.getItem(e);if(null!==a){e="".concat(R,":exp");var n=localStorage.getItem(e);if(null!==n){var i=parseInt(n),o=Math.round(Date.now()/1e3);return i<o?(localStorage.removeItem("".concat(R,":userid")),void localStorage.removeItem("".concat(R,":exp"))):(t.name=r,t.userid=a,t.exp=i,t)}localStorage.removeItem("".concat(R,":userid"))}}}function $(t,e,r){var a="".concat(R,":name");localStorage.setItem(a,t),a="".concat(R,":userid"),localStorage.setItem(a,e),a="".concat(R,":exp"),localStorage.setItem(a,"".concat(r))}function V(){var t="".concat(R,":name");localStorage.removeItem(t),t="".concat(R,":userid"),localStorage.removeItem(t),t="".concat(R,":exp"),localStorage.removeItem(t)}var D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"pa-0 pa-md-3",attrs:{fluid:""}},[t.assignments.length>0?r("v-list",{staticClass:"ly-list"},[t._l(t.assignments,(function(e,a){return[r("v-list-item",{key:e[1]},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"pr-assignment",attrs:{cols:"12",md:"10"},on:{click:function(e){return e.stopPropagation(),t.displayAssignment(a)}}},[t._v(" "+t._s(e[3])+" ")]),r("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"2",offset:"6","offset-md":"0"}},[r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onDelClick(a)}}},[r("v-icon",[t._v("mdi-delete-forever")])],1),r("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.onEditClick(a)}}},[r("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1),a!==t.assignments.length-1?r("v-divider",{key:a}):t._e()]}))],2):t._e(),0==t.assignments.length&&t.pageReady?r("v-row",{staticClass:"mx-0 centered-row"},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",[r("v-card-title",[t._v(" Belum ada data! ")]),r("v-card-text",[t._v(" Tambahkan data tugas belajar dengan meng-klik tombol yang ada di sudut kanan-bawah layar! ")])],1)],1)],1):t._e(),r("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",dark:"",color:"pink"},on:{click:function(e){return e.stopPropagation(),t.onFabAddClick(e)}}},[r("v-icon",[t._v("mdi-plus")])],1)],1)},A=[],L=(r("99af"),r("4160"),r("a434"),r("ac1f"),r("5319"),r("1276"),r("159b"),r("96cf"),r("1da1")),B=(r("d3b7"),r("25f0"),r("b5e8")),I=r.n(B),N="us-east-1",P="tugas-belajar",K="https://play.min.io",q="Q3AM3UQ867SPQQA43P2F",U="zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG",M="https://raw.githubusercontent.com/muktiarip/transient/master",F="https://script.google.com/macros/s/AKfycbz4_i6T6owjNx98c6iBdiH5jWT0Tu2KMn_hY5HRDVrucXyCLaB_/exec",G=(r("a15b"),r("d81d"),r("b64b"),r("498a"),r("b85c"),r("1c46")),H=r.n(G);r("b383"),r("df7c");function J(){return new I.a({endpoint:K,accessKeyId:q,secretAccessKey:U,region:N,s3ForcePathStyle:!0,signatureVersion:"v4"})}function Y(t){return Q.apply(this,arguments)}function Q(){return Q=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"string",a=J(),t.prev=2,t.next=5,a.getObject({Bucket:P,Key:e}).promise();case 5:return n=t.sent,i=null,i="string"===r?n.Body.toString():"json"===r?JSON.parse(n.Body.toString()):n.Body.buffer,t.abrupt("return",{code:200,data:i});case 11:return t.prev=11,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),Q.apply(this,arguments)}function W(t){return z.apply(this,arguments)}function z(){return z=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),t.prev=1,t.next=4,r.headObject({Bucket:P,Key:e}).promise();case 4:return t.sent,t.abrupt("return",{code:200});case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),z.apply(this,arguments)}function X(t,e,r){return Z.apply(this,arguments)}function Z(){return Z=Object(L["a"])(regeneratorRuntime.mark((function t(e,r,a){var n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=J(),i={Bucket:P,Key:e,Body:r,ContentType:a},t.prev=2,t.next=5,n.putObject(i).promise();case 5:return o=t.sent,t.abrupt("return",{code:o["$response"].httpResponse.statusCode});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),Z.apply(this,arguments)}function tt(t){return et.apply(this,arguments)}function et(){return et=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),a={Bucket:P,Key:e},t.prev=2,t.next=5,r.deleteObject(a).promise();case 5:return n=t.sent,t.abrupt("return",{code:n["$response"].httpResponse.statusCode});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),et.apply(this,arguments)}function rt(t){return at.apply(this,arguments)}function at(){return at=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=J(),a={Bucket:P,Prefix:e},t.prev=2,t.next=5,r.listObjectsV2(a).promise();case 5:return n=t.sent,t.abrupt("return",{code:n["$response"].httpResponse.statusCode,data:n});case 9:return t.prev=9,t.t0=t["catch"](2),t.abrupt("return",{code:t.t0.statusCode,message:t.t0.code});case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),at.apply(this,arguments)}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7200,r={Bucket:P,Key:t,Expires:e},a=J();return a.getSignedUrl("getObject",r)}var it={name:"Tasks",data:function(){return{assignments:[],pageReady:!1}},created:function(){this.$store.commit("SET_TOOLBAR",{title:"Tugas Belajar"}),this.loadData()},methods:{onFabAddClick:function(){this.$router.push({name:"taskform",query:{mode:"add"}})},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="m/".concat(this.$store.state.userid,"/"),this.$store.commit("SET_LOADING",!0),t.next=4,rt(e);case 4:if(r=t.sent,200===r.code){t.next=10;break}return console.error(r.message),this.pageReady=!0,this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 10:r.data.Contents.reverse(),this.assignments=[],a=this,r.data.Contents.forEach((function(t){var r=t.Key.replace(e,"").split(".");a.assignments.push([parseInt(r[0]),r[1],r[2],atob(r[2])])})),this.pageReady=!0,this.$store.commit("SET_LOADING",!1);case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),displayAssignment:function(t){this.$router.push({name:"task",params:{id:this.assignments[t][1]}})},onEditClick:function(t){this.$router.push({name:"taskform",query:{mode:"edit",id:this.assignments[t][1],meta:this.assignments[t][2]}})},onDelClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=window.confirm("Yakin menghapus "+this.assignments[e][3]+"?"),r){t.next=3;break}return t.abrupt("return");case 3:return a=this.assignments[e],n="a/".concat(a[1],".json"),i="m/".concat(this.$store.state.userid,"/").concat(a[0],".").concat(a[1],".").concat(a[2],".txt"),o="d/".concat(a[1],".txt"),this.$store.commit("SET_LOADING",!0),t.next=10,tt(n);case 10:if(s=t.sent,!(s.code>=300)){t.next=15;break}return console.error(s.message),this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 15:return t.next=17,tt(i);case 17:if(s=t.sent,this.$store.commit("SET_LOADING",!1),!(s.code>=300)){t.next=22;break}return console.error(s.message),t.abrupt("return");case 22:return this.assignments.splice(e,1),t.next=25,X(o,"1","text/plain");case 25:s=t.sent;case 26:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},ot=it,st=(r("7eca"),r("b0af")),ct=r("99d9"),ut=r("62ad"),lt=r("a523"),dt=r("ce7e"),mt=r("8860"),pt=r("da13"),ht=r("0fd9"),ft=Object(c["a"])(ot,D,A,!1,null,"4bb11efc",null),vt=ft.exports;l()(ft,{VBtn:p["a"],VCard:st["a"],VCardText:ct["b"],VCardTitle:ct["c"],VCol:ut["a"],VContainer:lt["a"],VDivider:dt["a"],VIcon:f["a"],VList:mt["a"],VListItem:pt["a"],VRow:ht["a"]});var gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[t._v(" "+t._s(t.name)+" ")]),r("v-col",{attrs:{cols:"12"}},[r("h3",{staticClass:"mb-2"},[t._v("Deskripsi")]),r("p",[t._v(t._s(t.description))])]),r("v-col",{attrs:{cols:"12"}},[r("h3",[t._v("Upload Link")]),r("div",{ref:"shareLink",staticClass:"text-center"},[t._v(t._s(t.shareLink))])]),r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-btn",{attrs:{color:"primary"},on:{click:t.btnCopyClick}},[t._v("Copy Link")])],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mb-3",attrs:{cols:"10",md:"11"}},[r("h3",[t._v("Daftar File")])]),r("v-col",{staticClass:"text-right",attrs:{cols:"2",md:"1"}},[r("v-btn",{attrs:{icon:""},on:{click:t.loadData}},[r("v-icon",[t._v("mdi-restore")])],1)],1),t._l(t.fileList,(function(e,a){return[r("v-col",{key:e,attrs:{cols:"12",md:"10"}},[t._v(" "+t._s(a+1)+". "+t._s(e)+" ")]),r("v-col",{key:"_"+e,staticClass:"text-right mb-1",attrs:{cols:"12",md:"2"}},[r("v-btn",{attrs:{icon:"",loading:t.loading},on:{click:function(e){return t.btnDelClick(a)}}},[r("v-icon",[t._v("mdi-delete-forever")])],1),r("v-btn",{attrs:{icon:"",href:t.signedUrl(e),download:e}},[r("v-icon",[t._v("mdi-download")])],1),r("v-btn",{attrs:{icon:"",href:t.signedUrl(e),target:"_blank"}},[r("v-icon",[t._v("mdi-eye")])],1)],1)]})),0===t.fileList.length?r("v-col",{attrs:{cols:"12"}},[t._v(" Belum ada yang mengumpulkan tugas. ")]):t._e()],2)],1)},bt=[],xt=(r("a4d3"),r("e01a"),{name:"Task",data:function(){return{name:"",description:"",fileList:[],loading:!1}},computed:{shareLink:function(){var t=window.location;return"".concat(t.protocol,"//").concat(t.host,"/murid/#/?a=").concat(this.$route.params.id)}},created:function(){this.$store.commit("SET_TOOLBAR",{title:"Tugas Belajar",backButton:!0}),this.loadData()},methods:{signedUrl:function(t){var e="a/".concat(this.$route.params.id,"/").concat(t);return nt(e)},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.$route.params.id,".json"),this.$store.commit("SET_LOADING",!0),t.next=4,Y(e,"json");case 4:if(r=t.sent,200===r.code){t.next=9;break}return console.error(r.message),this.$store.commit("SET_LOADING",!1),t.abrupt("return");case 9:return this.name=r.data.name,this.description=r.data.description,a="a/".concat(this.$route.params.id,"/"),t.next=14,rt(a);case 14:if(r=t.sent,this.$store.commit("SET_LOADING",!1),200==r.code){t.next=19;break}return console.error(r.message),t.abrupt("return");case 19:this.fileList=[],n=this,r.data.Contents.forEach((function(t){n.fileList.push(t.Key.replace("a/".concat(i.$route.params.id,"/"),""))}));case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnDelClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Hapus file ".concat(this.fileList[e],"?")),r){t.next=3;break}return t.abrupt("return");case 3:return a="a/".concat(this.$route.params.id,"/").concat(this.fileList[e]),this.loading=!0,t.next=7,tt(a);case 7:if(n=t.sent,this.loading=!1,!(n.code>300)){t.next=12;break}return console.error(n.message),t.abrupt("return");case 12:this.fileList.splice(e,1);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),btnCopyClick:function(){var t=null;if(document.selection)t=document.body.createTextRange(),t.moveToElementText(this.$refs.shareLink),t.select().createTextRange(),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.");else if(window.getSelection){t=document.createRange(),t.selectNode(this.$refs.shareLink);var e=window.getSelection();e.removeAllRanges(),e.addRange(t),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.")}}}}),kt=xt,yt=Object(c["a"])(kt,gt,bt,!1,null,null,null),wt=yt.exports;l()(yt,{VBtn:p["a"],VCol:ut["a"],VContainer:lt["a"],VIcon:f["a"],VRow:ht["a"]});var _t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Nama tugas"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{attrs:{label:"Deskripsi",solo:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[r("v-btn",{staticClass:"mx-2",attrs:{color:"primary",disabled:t.loading},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Batal ")]),r("v-btn",{staticClass:"mx-2",attrs:{color:"primary",loading:t.loading},on:{click:t.btnSaveClick}},[t._v(" Save ")])],1)],1)],1)},Ct=[],Tt=(r("caad"),r("fb6a"),r("a9e3"),r("f00c"),"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("")),Et="0123456789".split(""),Ot="CDEHKMPRTUWXY012458".split(""),St=function(t,e){var r=e.length,a=Math.floor(65536/r)*r-1,n=2*Math.ceil(1.1*t),i="",o=0;while(o<t){var s=H.a.randomBytes(n),c=0;while(c<n&&o<t){var u=s.readUInt16LE(c);c+=2,u>a||(i+=e[u%r],o++)}}return i},Rt=[void 0,"hex","base64","url-safe","numeric","distinguishable"],jt=function(t){var e=t.length,r=t.type,a=t.characters;if(!(e>=0&&Number.isFinite(e)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(void 0!==r&&void 0!==a)throw new TypeError("Expected either `type` or `characters`");if(void 0!==a&&"string"!==typeof a)throw new TypeError("Expected `characters` to be string");if(!Rt.includes(r))throw new TypeError("Unknown type: ".concat(r));if(void 0===r&&void 0===a&&(r="hex"),"hex"===r||void 0===r&&void 0===a)return H.a.randomBytes(Math.ceil(.5*e)).toString("hex").slice(0,e);if("base64"===r)return H.a.randomBytes(Math.ceil(.75*e)).toString("base64").slice(0,e);if("url-safe"===r)return St(e,Tt);if("numeric"===r)return St(e,Et);if("distinguishable"===r)return St(e,Ot);if(0===a.length)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(a.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return St(e,a.split(""))},$t={name:"TasksForm",data:function(t){return{mode:t.$route.query.mode,id:void 0===t.$route.query.id?"":t.$route.query.id,name:"",description:"",metaId:void 0===t.$route.query.meta?"":t.$route.query.meta,oldData:null,loading:!1}},computed:{title:function(){return"add"===this.mode?"Tugas Baru":"Edit Tugas"}},created:function(){"edit"===this.mode&&this.loadData()},methods:{getB64Name:function(t){return t.length>60?btoa(t.substring(0,60)):btoa(t)},loadData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.id,".json"),t.next=3,Y(e,"json");case 3:if(r=t.sent,200===r.code){t.next=7;break}return console.error(r.message),t.abrupt("return");case 7:this.oldData=r.data,this.name=r.data.name,this.description=r.data.description;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnCancelClick:function(){this.$router.go(-1)},saveJsonData:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={name:this.name,description:this.description,teacher_name:this.$store.state.username,created:r},t.next=3,X(e,JSON.stringify(a),"application/json");case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),saveNew:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=!1,r="",a="",this.loading=!0;case 4:if(e){t.next=13;break}return a=jt({length:16,type:"url-safe"}),r="a/".concat(a,".json"),t.next=9,W(r);case 9:n=t.sent,200!==n.code&&(e=!0),t.next=4;break;case 13:return i=Math.round(Date.now()/1e3),t.next=16,this.saveJsonData(r,i);case 16:if(o=t.sent,200===o.code){t.next=21;break}return console.error(o.message),this.loading=!1,t.abrupt("return");case 21:return s=this.getB64Name(this.name),c="m/".concat(this.$store.state.userid,"/").concat(i,".").concat(a,".").concat(s,".txt"),t.next=25,X(c,"1","text/plain");case 25:o=t.sent,this.loading=!1,this.$router.go(-1);case 28:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveEdit:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="a/".concat(this.id,".json"),this.loading=!0,t.next=4,this.saveJsonData(e,this.oldData.created);case 4:if(r=t.sent,200===r.code){t.next=9;break}return console.error(r.message),this.loading=!1,t.abrupt("return");case 9:if(this.name!==this.oldData.name){t.next=14;break}this.loading=!1,this.$router.go(-1),t.next=25;break;case 14:return a="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(this.metaId,".txt"),t.next=17,tt(a);case 17:return r=t.sent,n=this.getB64Name(this.name),i="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(n,".txt"),t.next=22,X(i,"1","text/plain");case 22:r=t.sent,this.loading=!1,this.$router.go(-1);case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnSaveClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.name){t.next=2;break}return t.abrupt("return");case 2:if(""!==this.description){t.next=4;break}return t.abrupt("return");case 4:if("add"!==this.mode){t.next=9;break}return t.next=7,this.saveNew();case 7:t.next=11;break;case 9:return t.next=11,this.saveEdit();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Vt=$t,Dt=r("8654"),At=r("a844"),Lt=Object(c["a"])(Vt,_t,Ct,!1,null,null,null),Bt=Lt.exports;l()(Lt,{VBtn:p["a"],VCol:ut["a"],VContainer:lt["a"],VRow:ht["a"],VTextField:Dt["a"],VTextarea:At["a"]});var It=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{"justify-center":"",fluid:""}},[r("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.authenticated,expression:"!$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Login")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Nama",name:"name","prepend-icon":"mdi-account",type:"text",readonly:t.loading,error:t.loginError,clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{label:"Token",name:"userid","prepend-icon":"mdi-lock",type:"password",readonly:t.loading,error:t.loginError,clearable:""},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{text:"",to:"/register",color:"primary"}},[t._v("Daftar")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.inputOK},on:{click:t.btnLoginClick}},[t._v("Login")])],1)],1)],1)],1),r("v-row",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.authenticated,expression:"$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" Loading... ")])],1)],1)},Nt=[];function Pt(t){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(L["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={headers:{Accept:"application/json"}},t.prev=1,t.next=4,fetch(e,r);case 4:return a=t.sent,t.next=7,a.json();case 7:return a=t.sent,t.abrupt("return",a);case 11:return t.prev=11,t.t0=t["catch"](1),t.abrupt("return",{code:600,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])}))),Kt.apply(this,arguments)}function qt(t,e){return Ut.apply(this,arguments)}function Ut(){return Ut=Object(L["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in a=new FormData,r)a.append(n,r[n]);return i={method:"POST",body:a},t.prev=3,t.next=6,fetch(e,i);case 6:return o=t.sent,t.abrupt("return",{code:o.status});case 10:return t.prev=10,t.t0=t["catch"](3),t.abrupt("return",{code:600,message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),Ut.apply(this,arguments)}var Mt={name:"Login",data:function(){return{name:"",userid:"",loginError:!1,loading:!1}},computed:{inputOK:function(){try{return 0!==this.name.length&&0!==this.userid.length}catch(t){return!1}}},methods:{btnLoginClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loginError=!1,e="".concat(M,"/teachers/").concat(this.userid,".json"),this.loading=!0,t.next=5,Pt(e);case 5:if(r=t.sent,this.loading=!1,!(r.code>300)){t.next=10;break}return this.loginError=!0,t.abrupt("return");case 10:this.$store.commit("SET_CREDENTIALS",{userid:this.userid,username:this.name}),a=Math.round(Date.now()/1e3)+86400,$(this.name,this.userid,a),this.$store.commit("SET_AUTHENTICATED",!0),Object.prototype.hasOwnProperty.call(this.$route.query,"redirect")?this.$router.replace(this.$route.query.redirect):this.$router.replace("/");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Ft=Mt,Gt=r("4bd4"),Ht=r("71d9"),Jt=Object(c["a"])(Ft,It,Nt,!1,null,null,null),Yt=Jt.exports;l()(Jt,{VBtn:p["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VCol:ut["a"],VContainer:lt["a"],VForm:Gt["a"],VRow:ht["a"],VSpacer:g["a"],VTextField:Dt["a"],VToolbar:Ht["a"],VToolbarTitle:b["a"]});var Qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{"justify-center":"",fluid:""}},[r("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.authenticated,expression:"!$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[t.registerSucceed?t._e():r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Daftar")])],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Nama",name:"name","prepend-icon":"mdi-account",type:"text",readonly:t.loading,error:t.registerError,clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{label:"email",name:"email","prepend-icon":"mdi-email",type:"email",readonly:t.loading,error:t.registerError,clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{text:"",color:"primary",to:"/login",disabled:t.loading}},[t._v(" Login ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.inputOK},on:{click:t.btnRegClick}},[t._v("Daftar")])],1)],1),t.registerSucceed?r("v-card",{staticClass:"elevation-12"},[r("v-card-text",[t._v(" Data pendaftaran anda telah kami catat. Kami akan mengirimkan TOKEN ke alamat email anda paling lambat 1 jam. Jika sudah mendapatkan TOKEN, silahkan anda "),r("router-link",{attrs:{to:"/login"}},[t._v("LOGIN")]),t._v(" untuk menggunakan fasilitas ini. Terimakasih. ")],1)],1):t._e()],1)],1),r("v-row",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.authenticated,expression:"$store.state.authenticated"}],attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" Loading... ")])],1)],1)},Wt=[],zt={name:"Register",data:function(){return{name:"",email:"",registerSucceed:!1,registerError:!1,loading:!1}},computed:{inputOK:function(){try{return 0!==this.name.length&&0!==this.email.length}catch(t){return!1}}},methods:{btnRegClick:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={name:this.name,email:this.email},this.loading=!0,t.next=4,qt(F,e);case 4:r=t.sent,this.loading=!1,200===r.code?this.registerSucceed=!0:alert("Tidak bisa memproses pendaftaran anda! "+r.message);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},Xt=zt,Zt=Object(c["a"])(Xt,Qt,Wt,!1,null,null,null),te=Zt.exports;function ee(t,e,r){V(),S.commit("SET_AUTHENTICATED",!1),r("/login")}l()(Zt,{VBtn:p["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VCol:ut["a"],VContainer:lt["a"],VForm:Gt["a"],VRow:ht["a"],VSpacer:g["a"],VTextField:Dt["a"],VToolbar:Ht["a"],VToolbarTitle:b["a"]}),a["a"].use(_["a"]);var re=[{path:"/",name:"tasks",component:vt,meta:{requiresAuth:!0}},{path:"/tasks/:id",name:"task",component:wt,meta:{requiresAuth:!0}},{path:"/taskform",name:"taskform",component:Bt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Yt},{path:"/register",name:"register",component:te},{path:"/logout",name:"logout",beforeEnter:ee}],ae=new _["a"]({routes:re});ae.beforeEach((function(t,e,r){t.matched.some((function(t){return t.meta.requiresAuth}))?S.state.authenticated?r():r({path:"/login",query:{redirect:t.fullPath}}):("login"===t.name||"register"===t.name)&&S.state.authenticated?r("/"):r()}));var ne=ae;a["a"].config.productionTip=!1;var ie=j();void 0!==ie&&(S.commit("SET_CREDENTIALS",{userid:ie.userid,username:ie.name}),S.commit("SET_AUTHENTICATED",!0)),new a["a"]({router:ne,store:S,vuetify:w,render:function(t){return t(k)}}).$mount("#app")},"7eca":function(t,e,r){"use strict";var a=r("4b60"),n=r.n(a);n.a},"8a23":function(t,e,r){}});
//# sourceMappingURL=app.352c8883.js.map