(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/guru/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0579":function(e,t,n){"use strict";var r=n("7141"),a=n.n(r);a.a},1:function(e,t,n){e.exports=n("56d7")},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o={name:"App",data:function(){return{}},created:function(){}},s=o,c=(n("034f"),n("2877")),u=Object(c["a"])(s,a,i,!1,null,null,null),l=u.exports,d=(n("45fc"),n("8c4f")),p=n("2f62");r["a"].use(p["a"]);var m={userid:"",username:"",authenticated:!1,toolbar:{title:"PeEeerr!",backButton:!1},snackbar:{visible:!1,text:null,timeout:6e3,multiline:!1},loading:!1},h={SET_CREDENTIALS:function(e,t){t.userid&&(e.userid=t.userid),t.username&&(e.username=t.username)},SET_AUTHENTICATED:function(e,t){e.authenticated=t},SET_TOOLBAR:function(e,t){e.toolbar.title=t.title,Object.prototype.hasOwnProperty.call(t,"backButton")?e.toolbar.backButton=t.backButton:e.toolbar.backButton=!1},SHOW_SNACKBAR:function(e,t){e.snackbar.text=t.text,e.snackbar.multiline=t.text.length>50,t.multiline&&(e.snackbar.multiline=t.multiline),t.timeout?e.snackbar.timeout=t.timeout:e.snackbar.timeout=6e3,e.snackbar.visible=!0},CLOSE_SNACKBAR:function(e){e.snackbar.visible=!1,e.snackbar.multiline=!1,e.snackbar.timeout=6e3,e.snackbar.text=null},SET_LOADING:function(e,t){e.loading=t}},f={},v=new p["a"].Store({state:m,mutations:h,actions:f}),b="hwtch";function g(){var e={},t="".concat(b,":name"),n=localStorage.getItem(t);if(null!==n){t="".concat(b,":userid");var r=localStorage.getItem(t);if(null!==r){t="".concat(b,":exp");var a=localStorage.getItem(t);if(null!==a){var i=parseInt(a),o=Math.round(Date.now()/1e3);return i<o?(localStorage.removeItem("".concat(b,":userid")),void localStorage.removeItem("".concat(b,":exp"))):(e.name=n,e.userid=r,e.exp=i,e)}localStorage.removeItem("".concat(b,":userid"))}}}function k(e,t,n){var r="".concat(b,":name");localStorage.setItem(r,e),r="".concat(b,":userid"),localStorage.setItem(r,t),r="".concat(b,":exp"),localStorage.setItem(r,"".concat(n))}function x(){var e="".concat(b,":name");localStorage.removeItem(e),e="".concat(b,":userid"),localStorage.removeItem(e),e="".concat(b,":exp"),localStorage.removeItem(e)}var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Daftar Tugas Belajar")]),e.assignments.length>0?n("div",e._l(e.assignments,(function(t,r){return n("div",{key:t[1]},[e._v(" "+e._s(t[3])+" "),n("router-link",{attrs:{to:"/tasks/"+t[1]}},[e._v("detail")]),e._v(" "),n("button",{on:{click:function(t){return e.onDelClick(r)}}},[e._v("Hapus")]),e._v(" "),n("router-link",{attrs:{to:"/taskform?mode=edit&id="+t[1]+"&meta="+t[2]}},[e._v("edit")])],1)})),0):e._e(),0===e.assignments.length?n("div",[e._v(" Belum ada data tugas belajar. ")]):e._e(),n("div",[n("button",{on:{click:e.btnAddClick}},[e._v("Add")])])])},y=[],_=(n("99af"),n("4160"),n("a434"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("96cf"),n("1da1")),j=(n("d3b7"),n("25f0"),n("b5e8")),E=n.n(j),O="us-east-1",S="tugas-belajar",T="https://play.min.io",R="Q3AM3UQ867SPQQA43P2F",C="zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG",$="https://raw.githubusercontent.com/muktiarip/transient/master",D=(n("a15b"),n("d81d"),n("b64b"),n("498a"),n("b85c"),n("1c46")),A=n.n(D);n("b383"),n("df7c");function B(){return new E.a({endpoint:T,accessKeyId:R,secretAccessKey:C,region:O,s3ForcePathStyle:!0,signatureVersion:"v4"})}function I(e){return L.apply(this,arguments)}function L(){return L=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"string",r=B(),e.prev=2,e.next=5,r.getObject({Bucket:S,Key:t}).promise();case 5:return a=e.sent,i=null,i="string"===n?a.Body.toString():"json"===n?JSON.parse(a.Body.toString()):a.Body.buffer,e.abrupt("return",{code:200,data:i});case 11:return e.prev=11,e.t0=e["catch"](2),e.abrupt("return",{code:e.t0.statusCode,message:e.t0.code});case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),L.apply(this,arguments)}function N(e){return P.apply(this,arguments)}function P(){return P=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=B(),e.prev=1,e.next=4,n.headObject({Bucket:S,Key:t}).promise();case 4:return e.sent,e.abrupt("return",{code:200});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{code:e.t0.statusCode,message:e.t0.code});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),P.apply(this,arguments)}function q(e,t,n){return K.apply(this,arguments)}function K(){return K=Object(_["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=B(),i={Bucket:S,Key:t,Body:n,ContentType:r},e.prev=2,e.next=5,a.putObject(i).promise();case 5:return o=e.sent,e.abrupt("return",{code:o["$response"].httpResponse.statusCode});case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",{code:e.t0.statusCode,message:e.t0.code});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),K.apply(this,arguments)}function U(e){return M.apply(this,arguments)}function M(){return M=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=B(),r={Bucket:S,Key:t},e.prev=2,e.next=5,n.deleteObject(r).promise();case 5:return a=e.sent,e.abrupt("return",{code:a["$response"].httpResponse.statusCode});case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",{code:e.t0.statusCode,message:e.t0.code});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),M.apply(this,arguments)}function H(e){return J.apply(this,arguments)}function J(){return J=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=B(),r={Bucket:S,Prefix:t},e.prev=2,e.next=5,n.listObjectsV2(r).promise();case 5:return a=e.sent,e.abrupt("return",{code:a["$response"].httpResponse.statusCode,data:a});case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",{code:e.t0.statusCode,message:e.t0.code});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),J.apply(this,arguments)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7200,n={Bucket:S,Key:e,Expires:t},r=B();return r.getSignedUrl("getObject",n)}var Q={name:"Tasks",data:function(){return{assignments:[]}},created:function(){this.loadData()},methods:{btnAddClick:function(){this.$router.push({name:"taskform",query:{mode:"add"}})},loadData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="m/".concat(this.$store.state.userid,"/"),e.next=3,H(t);case 3:if(n=e.sent,200===n.code){e.next=7;break}return console.error(n.message),e.abrupt("return");case 7:n.data.Contents.reverse(),this.assignments=[],r=this,n.data.Contents.forEach((function(e){var n=e.Key.replace(t,"").split(".");r.assignments.push([parseInt(n[0]),n[1],n[2],atob(n[2])])}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onDelClick:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.confirm("Yakin menghapus "+this.assignments[t][3]+"?"),n){e.next=3;break}return e.abrupt("return");case 3:return r=this.assignments[t],a="a/".concat(r[1],".json"),i="m/".concat(this.$store.state.userid,"/").concat(r[0],".").concat(r[1],".").concat(r[2],".txt"),o="d/".concat(r[1],".txt"),e.next=9,U(a);case 9:if(s=e.sent,!(s.code>=300)){e.next=13;break}return console.error(s.message),e.abrupt("return");case 13:return e.next=15,U(i);case 15:if(s=e.sent,!(s.code>=300)){e.next=19;break}return console.error(s.message),e.abrupt("return");case 19:return this.assignments.splice(t,1),e.next=22,q(o,"1","text/plain");case 22:s=e.sent;case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},Y=Q,G=Object(c["a"])(Y,w,y,!1,null,"b5fe2732",null),V=G.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Tugas")]),n("div",[e._v(e._s(e.name))]),n("h3",[e._v("Keterangan")]),n("div",[e._v(e._s(e.description))]),n("h3",[e._v("Upload Link")]),n("div",{ref:"shareLink"},[e._v(e._s(e.shareLink))]),n("div",[n("button",{on:{click:e.btnCopyClick}},[e._v("Copy Link")])]),n("h3",[e._v("Daftar File")]),e._l(e.fileList,(function(t,r){return n("div",{key:t},[n("div",[e._v(" "+e._s(r+1)+" "+e._s(t)+" "),n("button",{on:{click:function(t){return e.btnDelClick(r)}}},[e._v("Hapus")]),e._v(" "),n("a",{attrs:{href:e.signedUrl(t),target:"_blank"}},[e._v("lihat")])])])}))],2)},z=[],X=(n("a4d3"),n("e01a"),{name:"Task",data:function(){return{name:"",description:"",fileList:[]}},computed:{shareLink:function(){var e=window.location;return"".concat(e.protocol,"//").concat(e.host,"/murid/#/?a=").concat(this.$route.params.id)}},created:function(){this.loadData()},methods:{signedUrl:function(e){var t="a/".concat(this.$route.params.id,"/").concat(e);return F(t)},loadData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="a/".concat(this.$route.params.id,".json"),e.next=3,I(t,"json");case 3:if(n=e.sent,200===n.code){e.next=7;break}return console.error(n.message),e.abrupt("return");case 7:return this.name=n.data.name,this.description=n.data.description,r="a/".concat(this.$route.params.id,"/"),e.next=12,H(r);case 12:if(n=e.sent,200==n.code){e.next=16;break}return console.error(n.message),e.abrupt("return");case 16:this.fileList=[],a=this,n.data.Contents.forEach((function(e){a.fileList.push(e.Key.replace("a/".concat(i.$route.params.id,"/"),""))}));case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),btnDelClick:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=confirm("Hapus file ".concat(this.fileList[t],"?")),n){e.next=3;break}return e.abrupt("return");case 3:return r="a/".concat(this.$route.params.id,"/").concat(this.fileList[t]),e.next=6,U(r);case 6:if(a=e.sent,!(a.code>300)){e.next=10;break}return console.error(a.message),e.abrupt("return");case 10:this.fileList.splice(t,1);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),btnCopyClick:function(){var e=null;if(document.selection)e=document.body.createTextRange(),e.moveToElementText(this.$refs.shareLink),e.select().createTextRange(),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.");else if(window.getSelection){e=document.createRange(),e.selectNode(this.$refs.shareLink);var t=window.getSelection();t.removeAllRanges(),t.addRange(e),document.execCommand("copy"),alert("Upload link telah disalin ke clipboard.")}}}}),Z=X,ee=Object(c["a"])(Z,W,z,!1,null,"0bba7863",null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v(e._s(e.title))]),n("div",[n("label",[e._v("Nama")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Nama tugas"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",[n("label",[e._v("Keterangan singkat")]),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),n("div",[n("button",{on:{click:e.btnCancelClick}},[e._v("Batal")]),n("button",{on:{click:e.btnSaveClick}},[e._v("Save")])])])},re=[],ae=(n("caad"),n("fb6a"),n("a9e3"),n("f00c"),"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("")),ie="0123456789".split(""),oe="CDEHKMPRTUWXY012458".split(""),se=function(e,t){var n=t.length,r=Math.floor(65536/n)*n-1,a=2*Math.ceil(1.1*e),i="",o=0;while(o<e){var s=A.a.randomBytes(a),c=0;while(c<a&&o<e){var u=s.readUInt16LE(c);c+=2,u>r||(i+=t[u%n],o++)}}return i},ce=[void 0,"hex","base64","url-safe","numeric","distinguishable"],ue=function(e){var t=e.length,n=e.type,r=e.characters;if(!(t>=0&&Number.isFinite(t)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(void 0!==n&&void 0!==r)throw new TypeError("Expected either `type` or `characters`");if(void 0!==r&&"string"!==typeof r)throw new TypeError("Expected `characters` to be string");if(!ce.includes(n))throw new TypeError("Unknown type: ".concat(n));if(void 0===n&&void 0===r&&(n="hex"),"hex"===n||void 0===n&&void 0===r)return A.a.randomBytes(Math.ceil(.5*t)).toString("hex").slice(0,t);if("base64"===n)return A.a.randomBytes(Math.ceil(.75*t)).toString("base64").slice(0,t);if("url-safe"===n)return se(t,ae);if("numeric"===n)return se(t,ie);if("distinguishable"===n)return se(t,oe);if(0===r.length)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(r.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return se(t,r.split(""))},le={name:"TaskForm",data:function(e){return{mode:e.$route.query.mode,id:void 0===e.$route.query.id?"":e.$route.query.id,name:"",description:"",metaId:void 0===e.$route.query.meta?"":e.$route.query.meta,oldData:null,loading:!1}},computed:{title:function(){return"add"===this.mode?"Tugas Baru":"Edit Tugas"}},created:function(){"edit"===this.mode&&this.loadData()},methods:{getB64Name:function(e){return e.length>60?btoa(e.substring(0,60)):btoa(e)},loadData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="a/".concat(this.id,".json"),e.next=3,I(t,"json");case 3:if(n=e.sent,200===n.code){e.next=7;break}return console.error(n.message),e.abrupt("return");case 7:this.oldData=n.data,this.name=n.data.name,this.description=n.data.description;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),btnCancelClick:function(){this.$router.go(-1)},saveJsonData:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={name:this.name,description:this.description,teacher_name:this.$store.state.username,created:n},e.next=3,q(t,JSON.stringify(r),"application/json");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),saveNew:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,n="",r="";case 3:if(t){e.next=12;break}return r=ue({length:16,type:"url-safe"}),n="a/".concat(r,".json"),e.next=8,N(n);case 8:a=e.sent,200!==a.code&&(t=!0),e.next=3;break;case 12:return i=Math.round(Date.now()/1e3),e.next=15,this.saveJsonData(n,i);case 15:if(o=e.sent,200===o.code){e.next=19;break}return console.error(o.message),e.abrupt("return");case 19:return s=this.getB64Name(this.name),c="m/".concat(this.$store.state.userid,"/").concat(i,".").concat(r,".").concat(s,".txt"),e.next=23,q(c,"1","text/plain");case 23:o=e.sent,this.$router.go(-1);case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveEdit:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="a/".concat(this.id,".json"),e.next=3,this.saveJsonData(t,this.oldData.created);case 3:if(n=e.sent,200===n.code){e.next=7;break}return console.error(n.message),e.abrupt("return");case 7:if(this.name!==this.oldData.name){e.next=11;break}this.$router.go(-1),e.next=21;break;case 11:return r="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(this.metaId,".txt"),e.next=14,U(r);case 14:return n=e.sent,a=this.getB64Name(this.name),i="m/".concat(this.$store.state.userid,"/").concat(this.oldData.created,".").concat(this.id,".").concat(a,".txt"),e.next=19,q(i,"1","text/plain");case 19:n=e.sent,this.$router.go(-1);case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),btnSaveClick:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.name){e.next=2;break}return e.abrupt("return");case 2:if(""!==this.description){e.next=4;break}return e.abrupt("return");case 4:if("add"!==this.mode){e.next=9;break}return e.next=7,this.saveNew();case 7:e.next=11;break;case 9:return e.next=11,this.saveEdit();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},de=le,pe=(n("0579"),Object(c["a"])(de,ne,re,!1,null,"1e2ab61c",null)),me=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Login")]),n("div",[n("div",[n("label",[e._v("Nama")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Nama anda"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",[n("label",[e._v("Token")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],attrs:{type:"password"},domProps:{value:e.userid},on:{input:function(t){t.target.composing||(e.userid=t.target.value)}}})]),n("div",[n("button",{on:{click:e.btnLoginClick}},[e._v("Login")])])])])},fe=[];function ve(e){return be.apply(this,arguments)}function be(){return be=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={headers:{Accept:"application/json"}},e.prev=1,e.next=4,fetch(t,n);case 4:return r=e.sent,e.next=7,r.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e["catch"](1),e.abrupt("return",{code:600,message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),be.apply(this,arguments)}var ge={name:"Login",data:function(){return{name:"",userid:""}},created:function(){},methods:{btnLoginClick:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.name){e.next=2;break}return e.abrupt("return");case 2:if(""!==this.userid){e.next=4;break}return e.abrupt("return");case 4:return t="".concat($,"/teachers/").concat(this.userid,".json"),e.next=7,ve(t);case 7:if(n=e.sent,!(n.code>300)){e.next=11;break}return console.error(n),e.abrupt("return");case 11:this.$store.commit("SET_CREDENTIALS",{userid:this.userid,username:this.name}),r=Math.round(Date.now()/1e3)+86400,k(this.name,this.userid,r),this.$store.commit("SET_AUTHENTICATED",!0),Object.prototype.hasOwnProperty.call(this.$route.query,"redirect")?this.$router.replace(this.$route.query.redirect):this.$router.replace("/");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ke=ge,xe=Object(c["a"])(ke,he,fe,!1,null,"2f37d8a8",null),we=xe.exports;function ye(e,t,n){x(),v.commit("SET_AUTHENTICATED",!1),n("/login")}r["a"].use(d["a"]);var _e=[{path:"/",name:"tasks",component:V,meta:{requiresAuth:!0}},{path:"/tasks/:id",name:"task",component:te,meta:{requiresAuth:!0}},{path:"/taskform",name:"taskform",component:me,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:we},{path:"/logout",name:"logout",beforeEnter:ye}],je=new d["a"]({routes:_e});je.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?v.state.authenticated?n():n({path:"/login",query:{redirect:e.fullPath}}):"login"===e.name&&v.state.authenticated?n("/"):n()}));var Ee=je;r["a"].config.productionTip=!1;var Oe=g();void 0!==Oe&&(v.commit("SET_CREDENTIALS",{userid:Oe.userid,username:Oe.name}),v.commit("SET_AUTHENTICATED",!0)),new r["a"]({router:Ee,store:v,render:function(e){return e(l)}}).$mount("#app")},7141:function(e,t,n){},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.8dce617a.js.map